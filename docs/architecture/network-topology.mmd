---
title: "Tolling.Network 2.0 — Network Topology (Option C)"
---
flowchart TB
    subgraph national["NATIONAL CHANNEL — Agency Registry"]
        direction LR
        reg["Agency Registry\nProtocol Versions\nReference Data"]
    end

    subgraph consortium1["CONSORTIUM-A CHANNEL"]
        direction TB
        c1_cc["Consortium-A Rules"]
        c1_1["Agency-A1"]
        c1_2["Agency-A2"]
        c1_3["Agency-A3"]
        c1_4["...more agencies"]
        c1hub["Consortium-A Hub"]
    end

    subgraph consortium2["CONSORTIUM-B CHANNEL"]
        direction TB
        c2_cc["Consortium-B Rules"]
        c2_1["Agency-B1"]
        c2_2["Agency-B2"]
        c2_3["Agency-B3"]
        c2_4["Agency-B4"]
        c2hub["Consortium-B Hub"]
    end

    subgraph consortium3["CONSORTIUM-C CHANNEL"]
        direction TB
        c3_cc["Consortium-C Rules"]
        c3_1["Agency-C1"]
        c3_2["Agency-C2"]
        c3_3["Agency-C3"]
        c3_4["Agency-C4"]
    end

    subgraph consortium4["CONSORTIUM-D CHANNEL"]
        direction TB
        c4_cc["Consortium-D Rules"]
        c4_1["Agency-D1"]
        c4_2["Agency-D2"]
        c4_3["Agency-D3"]
        c4hub["Consortium-D Hub"]
    end

    subgraph interop["INTEROP CHANNEL — Cross-Consortium Transactions"]
        direction TB
        int_cc["NIOP ICD Validation\nCharge Lifecycle\nReconciliation\nSettlement"]

        subgraph pdc["Private Data Collections"]
            direction LR
            tvl["TVL per Agency"]
            bilateral["Charges per\nAgency Pair"]
            hubagg["Hub Aggregates"]
        end
    end

    national --- consortium1
    national --- consortium2
    national --- consortium3
    national --- consortium4
    national --- interop

    consortium1 --- interop
    consortium2 --- interop
    consortium3 --- interop
    consortium4 --- interop
